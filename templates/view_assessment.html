{% extends "base.html" %}

{% block content %}
<div class="card shadow-sm">
    <div class="card-header bg-light">
        <h3>Avaliação de {{ assessment.patient.full_name }}</h3>
        <p class="text-muted mb-0">Realizada em: {{ assessment.created_at.strftime('%d/%m/%Y às %H:%M') }}</p>
    </div>
    <div class="card-body">
        
        <h4 class="mt-3 text-primary">Anamnese</h4>
        <div class="ps-3">
            <h5 class="text-secondary mt-3">Queixa Principal (QP)</h5>
            <p style="white-space: pre-wrap;" class="text-body-secondary">{{ assessment.main_complaint or 'Não preenchido' }}</p>
            
            <h5 class="text-secondary mt-3">História da Doença Atual (HDA)</h5>
            <p style="white-space: pre-wrap;" class="text-body-secondary">{{ assessment.history_of_present_illness or 'Não preenchido' }}</p>
            
            <h5 class="text-secondary mt-3">História Patológica Pregressa (HPP)</h5>
            <p style="white-space: pre-wrap;" class="text-body-secondary">{{ assessment.past_medical_history or 'Não preenchido' }}</p>
            
            <h5 class="text-secondary mt-3">Medicamentos em Uso</h5>
            <p style="white-space: pre-wrap;" class="text-body-secondary">{{ assessment.medications or 'Não preenchido' }}</p>

            <h5 class="text-secondary mt-3">História Social e Hábitos de Vida</h5>
            <p style="white-space: pre-wrap;" class="text-body-secondary">{{ assessment.social_history or 'Não preenchido' }}</p>
        </div>

        <hr class="my-4">

        <h4 class="mt-3 text-primary">Exame Físico</h4>
        <div class="ps-3">
            <h5 class="text-secondary mt-3">Inspeção</h5>
            <p style="white-space: pre-wrap;" class="text-body-secondary">{{ assessment.inspection_notes or 'Não preenchido' }}</p>
            
            <h5 class="text-secondary mt-3">Palpação</h5>
            <p style="white-space: pre-wrap;" class="text-body-secondary">{{ assessment.palpation_notes or 'Não preenchido' }}</p>
            
            <h5 class="text-secondary mt-3">Avaliação da Mobilidade</h5>
            <p style="white-space: pre-wrap;" class="text-body-secondary">{{ assessment.mobility_assessment or 'Não preenchido' }}</p>

            <h5 class="text-secondary mt-3">Avaliação da Força Muscular</h5>
            <p style="white-space: pre-wrap;" class="text-body-secondary">{{ assessment.strength_assessment or 'Não preenchido' }}</p>

            <h5 class="text-secondary mt-3">Avaliação Neurológica</h5>
            <p style="white-space: pre-wrap;" class="text-body-secondary">{{ assessment.neuro_assessment or 'Não preenchido' }}</p>

            <h5 class="text-secondary mt-3">Avaliação Funcional e Testes Específicos</h5>
            <p style="white-space: pre-wrap;" class="text-body-secondary">{{ assessment.functional_assessment or 'Não preenchido' }}</p>
        </div>

        <hr class="my-4">

        <h4 class="mt-3 text-primary">Conclusão e Plano</h4>
        <div class="ps-3">
            <h5 class="text-secondary mt-3">Diagnóstico Fisioterapêutico</h5>
            <p style="white-space: pre-wrap;" class="text-body-secondary">{{ assessment.diagnosis or 'Não preenchido' }}</p>

            <h5 class="text-secondary mt-3">Objetivos (Curto, Médio e Longo Prazo)</h5>
            <p style="white-space: pre-wrap;" class="text-body-secondary">{{ assessment.goals or 'Não preenchido' }}</p>

            <h5 class="text-secondary mt-3">Plano de Tratamento</h5>
            <p style="white-space: pre-wrap;" class="text-body-secondary">{{ assessment.treatment_plan or 'Não preenchido' }}</p>
        </div>
    </div>
    <div class="card-footer bg-light">
         <a href="{{ url_for('patient_detail', patient_id=assessment.patient_id) }}" class="btn btn-secondary">&larr; Voltar aos detalhes do paciente</a>
    </div>
</div>
{% endblock %}